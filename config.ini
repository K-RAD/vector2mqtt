; ============================
; Vector MQTT Bridge - config.ini
; ============================

[Vector]
; Vector identity
serial = [ADD_SERIAL]
ip = [ADD_IP]
name = [ADD_NAME]

[MQTT]
; Broker connection
host = [ADD_IP]
port = [ADD_PORT]
username = [ADD_USERNAME]
password = [ADD_PASSWORD]

; Topic base (recommend including serial if you add more robots: e.g. vector/00408750)
topic_base = vector

; Optional TLS (enable if broker is exposed or you want LAN encryption)
; tls = false
; ca_cert =

[Files]
; Local data files used by the bridge
animation_data_pkl = animation_data.pkl
state_json = bridge_state.json
; Bridge writes its last state here on shutdown

[Settings]
; --- Core behavior & resiliency ---
auto_connect = true
auto_reconnect = true
max_reconnect_attempts = 3
reconnect_delay = 5
state_persistence = true

; --- Command/telemetry cadence ---
command_timeout = 10
telemetry_interval = 30
heartbeat_interval = 30

; --- Telemetry detail level ---
; off = no telemetry; basic = battery + a few fields; full = all fields
telemetry_level = basic

; --- Event/activity publishing ---
event_throttling = true
activity_monitoring = true
activity_min_interval = 5
activity_qos = 0

; --- MQTT QoS (keep traffic light on LAN) ---
event_qos = 0
telemetry_qos = 0
command_complete_qos = 0

; --- Behavior publishing mode ---
; explicit = publish only when you explicitly acquire/release via behavior topic
; transient = also publish around each bridged SDK command
; none = never publish on behavior changes (still reported via heartbeat)
behavior_pub_mode = explicit

; --- Docking robustness ---
charger_retries = 2
charger_retry_delay = 3

; --- Camera parameters ---
camera_frame_wait_sec = 7
camera_max_width = 480
camera_jpeg_quality = 80

; --- Queue sizing (backpressure) ---
queue_max = 200

[Timeouts]
; Per-command timeouts (seconds)
default = 10
drive = 15
animation = 20
charger = 30
takephoto = 20
look_at_me = 25

[HomeAssistant]
discovery = true
discovery_prefix = homeassistant